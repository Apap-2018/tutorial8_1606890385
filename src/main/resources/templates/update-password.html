<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Update Password</title>
    <object th:include="fragments/fragment :: css" th:remove="tag"></object>
    <object th:include="fragments/fragment :: js" th:remove="tag"></object>
</head>

<body>
	<nav th:replace="fragments/fragment :: navbar"></nav>
	<div th:switch="${message}">
	    <div th:case="'Success'">
	    	<div class="alert">
		    	<span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
		        <strong>Success!</strong>
		        <strong>Password berhasil diubah</strong>
	        </div>
	    </div>
	    <div th:case="'Failed'">
	    	<div class="alert">
		    	<span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
		        <strong>Failed!</strong>
		        <strong>Password baru tidak sesuai</strong>
	        </div>
	    </div>
	    <div th:case="'NotMatch'">
	    	<div class="alert">
		    	<span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
		        <strong>Failed!</strong>
		        <strong>Password lama tidak sesuai</strong>
	        </div>
	    </div>
	</div>
	<div class = "container-fluid">
		<br>
		<h2 th:text=" 'Hello ' + ${#httpServletRequest.remoteUser} + ' ! '">Login as</h2>
		<br>
		<div class = "row">
			<div class = "col-md-6">
				<div class = "card">
					<div class = "card-header">
						Ubah Password
					</div>
					<div class = "card-body">
						<form th:action="@{/user/updatePass}" method = "POST">
							<div class = "row form-group">
								<label class = "col-sm-5">Password Lama : </label>
								<input class = "col-sm-7 form-control input-sm" type = "password" name = "oldPassword" pattern="(?=.*\d)(?=.*[a-z]).{8,}" title="Must contain at least one number and lowercase letter, and at least 8 or more characters" required/>
							</div>
							<div class = "row form-group">
								<label class = "col-sm-5"> Password Baru : </label>
								<input class = "col-sm-7 form-control input-sm" type = "password" name = "newPassword" pattern="(?=.*\d)(?=.*[a-z]).{8,}" title="Must contain at least one number and lowercase letter, and at least 8 or more characters" required/>
							</div>
							<div class = "row form-group">
								<label class = "col-sm-5"> Konfirmasi Password Baru : </label>
								<input class = "col-sm-7 form-control input-sm" type = "password" name = "confirmedPassword" pattern="(?=.*\d)(?=.*[a-z]).{8,}" title="Must contain at least one number and lowercase letter, and at least 8 or more characters" required/>
							</div>
							<div>
								<button type = "submit" class = "btn btn-primary"> Simpan</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>